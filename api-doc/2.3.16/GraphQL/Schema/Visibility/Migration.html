<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: GraphQL::Schema::Visibility::Migration
  
    &mdash; GraphQL Ruby API Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "GraphQL::Schema::Visibility::Migration";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Visibility.html" title="GraphQL::Schema::Visibility (class)">Visibility</a></span></span>
     &raquo; 
    <span class="title">Migration</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: GraphQL::Schema::Visibility::Migration
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Subset.html" title="GraphQL::Schema::Visibility::Subset (class)">Subset</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Subset.html" title="GraphQL::Schema::Visibility::Subset (class)">Subset</a></span></li>
          
            <li class="next">GraphQL::Schema::Visibility::Migration</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/graphql/schema/visibility/migration.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>You can use this to see how <span class='object_link'><a href="../Warden.html" title="GraphQL::Schema::Warden (class)">Warden</a></span> and <span class='object_link'><a href="Subset.html" title="GraphQL::Schema::Visibility::Subset (class)">Subset</a></span>
handle <code>.visible?</code> differently in your schema.</p>

<p>It runs the same method on both implementations and raises an error when the results diverge.</p>

<p>To fix the error, modify your schema so that both implementations return the same thing.
Or, open an issue on GitHub to discuss the difference.</p>

<p>This plugin adds overhead to runtime and may cause unexpected crashes – <strong>don’t</strong> use it in production!</p>

<p>This plugin adds two keys to <code>context</code> when running:</p>

<ul>
  <li><code>visibility_migration_running: true</code></li>
  <li>For the <span class='object_link'><a href="../Warden.html" title="GraphQL::Schema::Warden (class)">Warden</a></span> which it instantiates, it adds <code>visibility_migration_warden_running: true</code>.</li>
</ul>

<p>Use those keys to modify your <code>visible?</code> behavior as needed.</p>

<p>Also, in a pinch, you can set <code>skip_visibility_migration_error: true</code> in context to turn off this behavior per-query.
(In that case, it uses <span class='object_link'><a href="Subset.html" title="GraphQL::Schema::Visibility::Subset (class)">Subset</a></span> directly.)</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Adding this plugin</p>
</div></p>
      
      <pre class="example code"><code>
<span class='id identifier rubyid_use'>use</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Visibility.html" title="GraphQL::Schema::Visibility (class)">Visibility</a></span></span><span class='op'>::</span><span class='const'>Migration</span></code></pre>
    
  </div>


</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Migration/RuntimeTypesMismatchError.html" title="GraphQL::Schema::Visibility::Migration::RuntimeTypesMismatchError (class)">RuntimeTypesMismatchError</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="PUBLIC_SUBSET_METHODS-constant" class="">PUBLIC_SUBSET_METHODS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='symbol'>:enum_values</span><span class='comma'>,</span>
  <span class='symbol'>:interfaces</span><span class='comma'>,</span>
  <span class='symbol'>:all_types</span><span class='comma'>,</span>
  <span class='symbol'>:fields</span><span class='comma'>,</span>
  <span class='symbol'>:loadable?</span><span class='comma'>,</span>
  <span class='symbol'>:type</span><span class='comma'>,</span>
  <span class='symbol'>:arguments</span><span class='comma'>,</span>
  <span class='symbol'>:argument</span><span class='comma'>,</span>
  <span class='symbol'>:directive_exists?</span><span class='comma'>,</span>
  <span class='symbol'>:directives</span><span class='comma'>,</span>
  <span class='symbol'>:field</span><span class='comma'>,</span>
  <span class='symbol'>:query_root</span><span class='comma'>,</span>
  <span class='symbol'>:mutation_root</span><span class='comma'>,</span>
  <span class='symbol'>:possible_types</span><span class='comma'>,</span>
  <span class='symbol'>:subscription_root</span><span class='comma'>,</span>
  <span class='symbol'>:reachable_type?</span>
<span class='rbracket'>]</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-class_method" title="use (class method)">.<strong>use</strong>(schema)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call_method_and_compare-instance_method" title="#call_method_and_compare (instance method)">#<strong>call_method_and_compare</strong>(method, args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#equivalent_schema_members%3F-instance_method" title="#equivalent_schema_members? (instance method)">#<strong>equivalent_schema_members?</strong>(member1, member2)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(context:, schema:)  &#x21d2; Migration </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Migration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loaded_types-instance_method" title="#loaded_types (instance method)">#<strong>loaded_types</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Subset.html" title="GraphQL::Schema::Visibility::Subset (class)">Subset</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Subset.html#all_types-instance_method" title="GraphQL::Schema::Visibility::Subset#all_types (method)">#all_types</a></span>, <span class='object_link'><a href="Subset.html#all_types_h-instance_method" title="GraphQL::Schema::Visibility::Subset#all_types_h (method)">#all_types_h</a></span>, <span class='object_link'><a href="Subset.html#argument-instance_method" title="GraphQL::Schema::Visibility::Subset#argument (method)">#argument</a></span>, <span class='object_link'><a href="Subset.html#arguments-instance_method" title="GraphQL::Schema::Visibility::Subset#arguments (method)">#arguments</a></span>, <span class='object_link'><a href="Subset.html#directive_exists%3F-instance_method" title="GraphQL::Schema::Visibility::Subset#directive_exists? (method)">#directive_exists?</a></span>, <span class='object_link'><a href="Subset.html#directives-instance_method" title="GraphQL::Schema::Visibility::Subset#directives (method)">#directives</a></span>, <span class='object_link'><a href="Subset.html#enum_values-instance_method" title="GraphQL::Schema::Visibility::Subset#enum_values (method)">#enum_values</a></span>, <span class='object_link'><a href="Subset.html#field-instance_method" title="GraphQL::Schema::Visibility::Subset#field (method)">#field</a></span>, <span class='object_link'><a href="Subset.html#field_on_visible_interface%3F-instance_method" title="GraphQL::Schema::Visibility::Subset#field_on_visible_interface? (method)">#field_on_visible_interface?</a></span>, <span class='object_link'><a href="Subset.html#fields-instance_method" title="GraphQL::Schema::Visibility::Subset#fields (method)">#fields</a></span>, <span class='object_link'><a href="Subset.html#from_context-class_method" title="GraphQL::Schema::Visibility::Subset.from_context (method)">from_context</a></span>, <span class='object_link'><a href="Subset.html#interfaces-instance_method" title="GraphQL::Schema::Visibility::Subset#interfaces (method)">#interfaces</a></span>, <span class='object_link'><a href="Subset.html#loadable%3F-instance_method" title="GraphQL::Schema::Visibility::Subset#loadable? (method)">#loadable?</a></span>, <span class='object_link'><a href="Subset.html#mutation_root-instance_method" title="GraphQL::Schema::Visibility::Subset#mutation_root (method)">#mutation_root</a></span>, <span class='object_link'><a href="Subset.html#pass_thru-class_method" title="GraphQL::Schema::Visibility::Subset.pass_thru (method)">pass_thru</a></span>, <span class='object_link'><a href="Subset.html#possible_types-instance_method" title="GraphQL::Schema::Visibility::Subset#possible_types (method)">#possible_types</a></span>, <span class='object_link'><a href="Subset.html#query_root-instance_method" title="GraphQL::Schema::Visibility::Subset#query_root (method)">#query_root</a></span>, <span class='object_link'><a href="Subset.html#reachable_type%3F-instance_method" title="GraphQL::Schema::Visibility::Subset#reachable_type? (method)">#reachable_type?</a></span>, <span class='object_link'><a href="Subset.html#subscription_root-instance_method" title="GraphQL::Schema::Visibility::Subset#subscription_root (method)">#subscription_root</a></span>, <span class='object_link'><a href="Subset.html#type-instance_method" title="GraphQL::Schema::Visibility::Subset#type (method)">#type</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(context:, schema:)  &#x21d2; <tt><span class='object_link'><a href="" title="GraphQL::Schema::Visibility::Migration (class)">Migration</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of Migration.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/schema/visibility/migration.rb', line 83</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>context:</span><span class='comma'>,</span> <span class='label'>schema:</span><span class='rparen'>)</span>
  <span class='ivar'>@skip_error</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='lbracket'>[</span><span class='symbol'>:skip_visibility_migration_error</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_context'>context</span><span class='lbracket'>[</span><span class='symbol'>:visibility_migration_running</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@subset_types</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Visibility.html" title="GraphQL::Schema::Visibility (class)">Visibility</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Subset.html" title="GraphQL::Schema::Visibility::Subset (class)">Subset</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Subset.html#initialize-instance_method" title="GraphQL::Schema::Visibility::Subset#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>context:</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>schema:</span> <span class='id identifier rubyid_schema'>schema</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@skip_error</span>
    <span class='id identifier rubyid_warden_ctx_vals'>warden_ctx_vals</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_warden_ctx_vals'>warden_ctx_vals</span><span class='lbracket'>[</span><span class='symbol'>:visibility_migration_warden_running</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>::</span><span class='const'>WardenCompatSchema</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_warden_schema'>warden_schema</span> <span class='op'>=</span> <span class='id identifier rubyid_schema'>schema</span><span class='op'>::</span><span class='const'>WardenCompatSchema</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_warden_schema'>warden_schema</span> <span class='op'>=</span> <span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_schema'>schema</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_use_schema_visibility'>use_schema_visibility</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='comment'># TODO public API
</span>      <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:add_type_and_traverse</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_mutation'>mutation</span><span class='comma'>,</span> <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_subscription'>subscription</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='comma'>,</span> <span class='label'>root:</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:add_type_and_traverse</span><span class='comma'>,</span> <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_directives'>directives</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span> <span class='op'>+</span> <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='period'>.</span><span class='id identifier rubyid_orphan_types'>orphan_types</span><span class='comma'>,</span> <span class='label'>root:</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_warden_ctx'>warden_ctx</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Query.html" title="GraphQL::Query (class)">Query</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Query/Context.html" title="GraphQL::Query::Context (class)">Context</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../Query/Context.html#initialize-instance_method" title="GraphQL::Query::Context#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>query:</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>values:</span> <span class='id identifier rubyid_warden_ctx_vals'>warden_ctx_vals</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_example_warden'>example_warden</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Warden.html" title="GraphQL::Schema::Warden (class)">Warden</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Warden.html#initialize-instance_method" title="GraphQL::Schema::Warden#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>schema:</span> <span class='id identifier rubyid_warden_schema'>warden_schema</span><span class='comma'>,</span> <span class='label'>context:</span> <span class='id identifier rubyid_warden_ctx'>warden_ctx</span><span class='rparen'>)</span>
    <span class='ivar'>@warden_types</span> <span class='op'>=</span> <span class='id identifier rubyid_example_warden'>example_warden</span><span class='period'>.</span><span class='id identifier rubyid_schema_subset'>schema_subset</span>
    <span class='id identifier rubyid_warden_ctx'>warden_ctx</span><span class='period'>.</span><span class='id identifier rubyid_warden'>warden</span> <span class='op'>=</span> <span class='id identifier rubyid_example_warden'>example_warden</span>
    <span class='id identifier rubyid_warden_ctx'>warden_ctx</span><span class='period'>.</span><span class='id identifier rubyid_types'>types</span> <span class='op'>=</span> <span class='ivar'>@warden_types</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="use-class_method">
  
    .<strong>use</strong>(schema)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="GraphQL::Schema::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/schema/visibility/migration.rb', line 30</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='id identifier rubyid_schema'>schema</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_subset_class'>subset_class</span> <span class='op'>=</span> <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call_method_and_compare-instance_method">
  
    #<strong>call_method_and_compare</strong>(method, args)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="GraphQL::Schema::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/schema/visibility/migration.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call_method_and_compare'>call_method_and_compare</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res_1'>res_1</span> <span class='op'>=</span> <span class='ivar'>@subset_types</span><span class='period'>.</span><span class='id identifier rubyid_public_send'>public_send</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@skip_error</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_res_1'>res_1</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res_2'>res_2</span> <span class='op'>=</span> <span class='ivar'>@warden_types</span><span class='period'>.</span><span class='id identifier rubyid_public_send'>public_send</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_normalized_res_1'>normalized_res_1</span> <span class='op'>=</span> <span class='id identifier rubyid_res_1'>res_1</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_res_1'>res_1</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_res_1'>res_1</span>
  <span class='id identifier rubyid_normalized_res_2'>normalized_res_2</span> <span class='op'>=</span> <span class='id identifier rubyid_res_2'>res_2</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_res_2'>res_2</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_res_2'>res_2</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_equivalent_schema_members?'>equivalent_schema_members?</span><span class='lparen'>(</span><span class='id identifier rubyid_normalized_res_1'>normalized_res_1</span><span class='comma'>,</span> <span class='id identifier rubyid_normalized_res_2'>normalized_res_2</span><span class='rparen'>)</span>
    <span class='comment'># Raise the errors with the orignally returned values:
</span>    <span class='id identifier rubyid_err'>err</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Migration/RuntimeTypesMismatchError.html" title="GraphQL::Schema::Visibility::Migration::RuntimeTypesMismatchError (class)">RuntimeTypesMismatchError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Migration/RuntimeTypesMismatchError.html#initialize-instance_method" title="GraphQL::Schema::Visibility::Migration::RuntimeTypesMismatchError#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_res_2'>res_2</span><span class='comma'>,</span> <span class='id identifier rubyid_res_1'>res_1</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_err'>err</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_res_1'>res_1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="equivalent_schema_members?-instance_method">
  
    #<strong>equivalent_schema_members?</strong>(member1, member2)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/schema/visibility/migration.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_equivalent_schema_members?'>equivalent_schema_members?</span><span class='lparen'>(</span><span class='id identifier rubyid_member1'>member1</span><span class='comma'>,</span> <span class='id identifier rubyid_member2'>member2</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>!=</span> <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_member1'>member1</span>
  <span class='kw'>when</span> <span class='const'>Set</span>
    <span class='id identifier rubyid_member1_array'>member1_array</span> <span class='op'>=</span> <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:graphql_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_member2_array'>member2_array</span> <span class='op'>=</span> <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:graphql_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_member1_array'>member1_array</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inner_member1'>inner_member1</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
      <span class='id identifier rubyid_inner_member2'>inner_member2</span> <span class='op'>=</span> <span class='id identifier rubyid_member2_array'>member2_array</span><span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_equivalent_schema_members?'>equivalent_schema_members?</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_member1'>inner_member1</span><span class='comma'>,</span> <span class='id identifier rubyid_inner_member2'>inner_member2</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../GraphQL.html" title="GraphQL (module)">GraphQL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Schema.html" title="GraphQL::Schema (class)">Schema</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Field.html" title="GraphQL::Schema::Field (class)">Field</a></span></span>
    <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_ensure_loaded'>ensure_loaded</span>
    <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_ensure_loaded'>ensure_loaded</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_introspection?'>introspection?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_introspection?'>introspection?</span>
      <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span> <span class='op'>==</span> <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_member1'>member1</span> <span class='op'>==</span> <span class='id identifier rubyid_member2'>member2</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='const'>Module</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_introspection?'>introspection?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_introspection?'>introspection?</span>
      <span class='id identifier rubyid_member1'>member1</span><span class='period'>.</span><span class='id identifier rubyid_graphql_name'>graphql_name</span> <span class='op'>==</span> <span class='id identifier rubyid_member2'>member2</span><span class='period'>.</span><span class='id identifier rubyid_graphql_name'>graphql_name</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_member1'>member1</span> <span class='op'>==</span> <span class='id identifier rubyid_member2'>member2</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_member1'>member1</span> <span class='op'>==</span> <span class='id identifier rubyid_member2'>member2</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="loaded_types-instance_method">
  
    #<strong>loaded_types</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="GraphQL::Schema::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/graphql/schema/visibility/migration.rb', line 107</span>

<span class='kw'>def</span> <span class='id identifier rubyid_loaded_types'>loaded_types</span>
  <span class='ivar'>@subset_types</span><span class='period'>.</span><span class='id identifier rubyid_loaded_types'>loaded_types</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Sep 12 14:53:25 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.2.5).
</div>

    </div>
  </body>
</html>